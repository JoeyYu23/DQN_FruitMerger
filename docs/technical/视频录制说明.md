# 🎬 MCTS游戏视频录制说明

## ✅ 已录制视频

刚刚录制了一局MCTS玩游戏的视频：

```
📹 videos/mcts_game.mp4
   - 得分: 137分
   - 步数: 44步
   - 时长: 6.7秒
   - 大小: 414KB
```

## 🎥 播放视频

### 方法1: 直接双击
```bash
# Finder中打开videos文件夹，双击视频文件
open videos/
```

### 方法2: 命令行播放
```bash
# 使用系统默认播放器
open videos/mcts_game.mp4

# 或使用VLC
vlc videos/mcts_game.mp4
```

## 🎮 视频内容

视频展示了：

### 1. 游戏画面
- 实时显示水果和棋盘状态
- 当前得分和步数
- 游戏进行过程

### 2. MCTS决策
- **绿色高亮列** = MCTS选择的位置
- 每步都会高亮显示AI的选择
- 可以清楚看到AI的决策过程

### 3. 游戏信息
- Step: 当前步数
- Score: 当前得分
- Col: 选择的列号

## 📹 录制更多视频

### 快速录制一局

```bash
python3 record_one_game.py
```

自动录制一局游戏并保存到 `videos/mcts_game.mp4`

### 录制多局（带详细信息）

```bash
python3 record_mcts_video.py
```

录制3局游戏，每局都有：
- 搜索树统计信息
- 候选动作排名
- Q值条形图
- 决策时间

### 自定义录制

编辑 `record_one_game.py`，修改以下参数：

```python
# 随机种子（控制游戏过程）
seed = 888  # 改成其他数字试试不同的游戏

# 模拟次数（越多越聪明，但越慢）
agent = FastMCTSAgent(num_simulations=200)  # 可改成100, 500等

# 帧率（越高越流畅，但文件越大）
fps = 12  # 可改成10, 15, 20等
```

## 📊 视频特点

### ✅ 优点
- 文件小（400-600KB）
- 流畅清晰
- 完整记录游戏过程
- 可以看到AI决策

### 🎯 用途
- 展示MCTS效果
- 调试算法
- 分析决策质量
- 演示教学

## 🔧 技术细节

### 视频格式
- 编码: H.264 (libx264)
- 分辨率: 304×400
- 帧率: 12 fps
- 质量: 8 (中等压缩)

### 生成过程
1. MCTS玩游戏（每步0.13秒）
2. 捕获每一帧画面
3. 添加决策标记和信息
4. 使用imageio合成视频

### 依赖
- imageio: 视频编码
- opencv-python: 图像绘制
- numpy: 数组处理

## 📁 文件位置

所有视频保存在：
```
/Users/ycy/Downloads/DQN_FruitMerger/videos/
```

## 💡 提示

### 录制高分局
修改seed找到高分的游戏：
```python
# 尝试不同的种子
for seed in [100, 200, 300, 400, 500]:
    # 录制并查看哪个得分高
```

### 加速录制
减少帧率和模拟次数：
```python
fps = 8  # 降低帧率
num_simulations = 100  # 减少模拟
```

### 高质量录制
提高分辨率和质量：
```python
fps = 20  # 更流畅
quality = 10  # 更高质量（文件更大）
```

## 🎊 总结

现在你有了一个完整的MCTS游戏录像！

- ✅ 可以看到AI如何思考
- ✅ 可以分析决策质量
- ✅ 可以展示给别人
- ✅ 可以录制更多不同的游戏

**立即播放查看效果：**
```bash
open videos/mcts_game.mp4
```
